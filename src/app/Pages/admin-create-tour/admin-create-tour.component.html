<app-admin-header></app-admin-header>

<section id="tour">
  <div class="container">
    <div class="row row-style">
      <div class="col">
        <div class="mb-3">
          <form [formGroup]="validationForm">
            <input
              formControlName="title"
              type="text"
              class="form-control mb-2"
              id="formGroupExampleInput"
              placeholder="Tour title"
            />

            <!-- <div
              *ngIf="
                 (!titleValid && this.validationForm.value['title'])
              "
              class="alert alert-danger my-1"
              role="alert"
            >
              Required
            </div> -->

            <input
              formControlName="person_cost"
              type="text"
              class="form-control mb-2"
              id="formGroupExampleInput"
              placeholder="Price per person"
            />
            <input
              formControlName="person_num"
              type="text"
              class="form-control mb-2"
              id="formGroupExampleInput"
              placeholder="No. Clients"
            />
            <input
              formControlName="start_date"
              type="date"
              class="form-control mb-2"
              id="formGroupExampleInput"
              placeholder="Tour Start Date"
            />

            <div class="row row-second">
              <div class="col-3">
                <div class="img-icon text-center mb-2">
                  <i class="fa-solid fa-file-image"></i>
                </div>

                <!-- --------------------Select Image------------------------ -->
                <div>
                  <input
                    multiple
                    class="form-control mb-2"
                    type="file"
                    id="image-tour"
                    accept="image/*"
                    (change)="onFileSelected($event)"
                  />
                </div>
              </div>

              <!-- --------------Images-Preview------------------- -->
              <div class="col-9">
                <div class="row">
                  <div
                    *ngFor="let file of tourImages; let i = index"
                    class="col-3 position-relative"
                  >
                    <div class="img-side mb-2">
                      <i
                        (click)="removeImage(i)"
                        class="fa-regular fa-circle-xmark"
                      ></i>
                      <img [src]="file.url" class="w-100" alt="" />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row row-second">
              <div class="col">
                <div class="d-flex mb-2">
                  <div class="icon-details">
                    <i class="fa-solid fa-location-dot"></i>
                  </div>
                  <div class="input-details">
                    <input
                      formControlName="location"
                      class="form-control"
                      type="text"
                      placeholder="City"
                      id=""
                    />
                  </div>
                </div>
                <div class="d-flex mb-2">
                  <div class="icon-details">
                    <i class="fa-regular fa-clock"></i>
                  </div>
                  <div class="input-details">
                    <input
                      formControlName="duration"
                      class="form-control"
                      type="text"
                      placeholder="Duration"
                      id=""
                    />
                  </div>
                </div>
                <div class="d-flex">
                  <div class="icon-details">
                    <i class="fa-solid fa-people-group"></i>
                  </div>
                  <div class="input-details">
                    <div class="form-floating">
                      <select
                        formControlName="private"
                        class="form-select"
                        id="floatingSelect"
                        aria-label="Floating label select example"
                      >
                        <option disabled selected>Select</option>
                        <option value="true">Only you and your host</option>
                        <option value="false">Not included</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col">
                <div class="d-flex mb-2">
                  <div class="icon-details">
                    <i class="fa-solid fa-utensils"></i>
                  </div>
                  <div class="input-details">
                    <div class="form-floating">
                      <select
                        formControlName="food"
                        class="form-select"
                        id="floatingSelect"
                        aria-label="Floating label select example"
                      >
                        <option disabled selected>Select</option>
                        <option value="true">Food tour</option>
                        <option value="false">Not included</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="d-flex mb-2">
                  <div class="icon-details">
                    <i class="fa-solid fa-person-walking"></i>
                  </div>
                  <div class="input-details">
                    <div class="form-floating">
                      <select
                        formControlName="walk"
                        class="form-select"
                        id="floatingSelect"
                        aria-label="Floating label select example"
                      >
                        <option disabled selected>Select</option>
                        <option value="true">Walking tour</option>
                        <option value="false">Not included</option>
                      </select>
                    </div>
                  </div>
                </div>
                <div class="d-flex">
                  <div class="icon-details">
                    <i class="fa-solid fa-leaf"></i>
                  </div>
                  <div class="input-details">
                    <div class="form-floating">
                      <select
                        formControlName="carbon_neut"
                        class="form-select"
                        id="floatingSelect"
                        aria-label="Floating label select example"
                      >
                        <option disabled selected>Select</option>
                        <option value="true">Carbon Neutrals</option>
                        <option value="false">Not included</option>
                      </select>
                    </div>
                  </div>
                </div>
              </div>

              <div class="mt-3">
                <div class="form-floating">
                  <textarea
                    formControlName="include"
                    class="form-control"
                    placeholder="Leave a comment here"
                    id="floatingTextarea"
                    rows="5"
                  ></textarea>
                  <label for="floatingTextarea">Description</label>
                </div>
              </div>
            </div>

            <div class="row row-second">
              <div class="col">
                <div class="mb-3">
                  <h3>4 reasons to book this experience</h3>
                </div>

                <div>
                  <input
                    (change)="getReasons($event)"
                    type="text"
                    class="form-control mb-2"
                    id="formGroupExampleInput"
                  />
                  <input
                    (change)="getReasons($event)"
                    type="text"
                    class="form-control mb-2"
                    id="formGroupExampleInput"
                  />
                  <input
                    (change)="getReasons($event)"
                    type="text"
                    class="form-control mb-2"
                    id="formGroupExampleInput"
                  />
                  <input
                    (change)="getReasons($event)"
                    type="text"
                    class="form-control mb-2"
                    id="formGroupExampleInput"
                  />
                </div>
              </div>
            </div>

            <div class="row row-second">
              <div class="mb-3">
                <h3>Food Included in the tour</h3>
              </div>
              <div class="col-3">
                <div class="img-icon text-center mb-2">
                  <i class="fa-solid fa-file-image"></i>
                </div>

                <!-- --------------------Select Image------------------------ -->

                <div>
                  <input
                    multiple
                    class="form-control mb-2"
                    type="file"
                    id="image-food"
                    accept="image/*"
                    (change)="onFileSelected2($event)"
                  />
                </div>

                <!-- --------------Images-Preview------------------- -->
              </div>
              <div class="col-9">
                <div class="row">
                  <div
                    *ngFor="let file of foodImages; let i = index"
                    class="col-3"
                  >
                    <div class="img-side mb-2 position-relative">
                      <i
                        (click)="removeImage2(i)"
                        class="fa-regular fa-circle-xmark"
                      ></i>
                      <img [src]="file.url" class="w-100" alt="" />
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="row row-second">
              <div class="col">
                <div class="mb-3">
                  <h3>This is the plan</h3>
                </div>

                <div>
                  <input
                    formControlName="meeting_point"
                    type="text"
                    class="form-control mb-2"
                    id="formGroupExampleInput"
                    placeholder="Meeting Point"
                  />
                  <input
                    formControlName="city_highlights"
                    type="text"
                    class="form-control mb-2"
                    id="formGroupExampleInput"
                    placeholder="City Highlights"
                  />
                  <input
                    formControlName="hidden_gems"
                    type="text"
                    class="form-control mb-2"
                    id="formGroupExampleInput"
                    placeholder="Hidden Gems"
                  />
                  <input
                    formControlName="magical_storytelling"
                    type="text"
                    class="form-control mb-2"
                    id="formGroupExampleInput"
                    placeholder="Magical Storytelling"
                  />
                  <input
                    formControlName="special_treat"
                    type="text"
                    class="form-control mb-2"
                    id="formGroupExampleInput"
                    placeholder="Special Treat"
                  />
                </div>
              </div>
            </div>

            <div class="mt-5 text-center">
              <button
                (click)="saveTour()"
                type="submit"
                class="btn btn-dark text-white"
              >
                Save Tour
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>



  </div>



  <div *ngIf="isLoading" class="loading">
    <div class="d-flex justify-content-center h-100">
      <div class="spinner-border" role="status">
        <span class="sr-only">Loading...</span>
      </div>
    </div>
  </div>


</section>


